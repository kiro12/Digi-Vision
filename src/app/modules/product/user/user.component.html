  <div class="container my-3">
    <div class="row">
      <div class="col-12">
        <mat-select [(ngModel)]="selectedCategory" (selectionChange)="changeCategory()">
          <mat-option  [value]="'all'"> All</mat-option>
          <mat-option *ngFor="let category of categories" [value]="category"> {{category}}</mat-option>
        </mat-select>
      </div>
    </div>


    <div class="products-container">
      <ng-container *ngIf="!isLoading ; else loadingIndicator">

      <div class="filters-container">
        <h3>{{selectedCategory}}</h3>
      </div>
      <div class="row">
        <div class="col-md-2 col-6 product-card" [@enter]="true"  *ngFor="let product of products">
          <div class="img-container">
            <img  [src]="product.image" alt="{{ product?.title }}" >

          </div>
            <div class="product-body mt-1">
              <h5 class="title" [matTooltip]="product?.title">{{ product?.title }}</h5>
              <div class="d-flex justify-content-between align-items-center">
                <p class="price">{{ product.price | currency }}</p>
                  <div [matTooltip]="product.rating.count">
                    <bar-rating class="star"  [(rate)]="product.rating.rate" [max]="5"></bar-rating>

                  </div>
              </div>
            </div>

        </div>
      </div>
      </ng-container>

    </div>
    <ng-template #loadingIndicator>
      <div class="d-flex justify-content-center mt-5">
        <mat-spinner></mat-spinner>
      </div>
    </ng-template>

  </div>
